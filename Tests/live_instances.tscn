[gd_scene load_steps=3 format=3 uid="uid://b5o8cdiy2b5sc"]

[ext_resource type="Script" path="res://addons/TallDwarf/VoxelHammer/classes/Node3D/VoxelInstance3D.gd" id="1_7bb47"]
[ext_resource type="Script" path="res://addons/TallDwarf/VoxelHammer/Tests/Test_live_instances.gd" id="1_rx1yp"]

[node name="Node3D" type="Node3D"]
script = ExtResource("1_rx1yp")

[node name="N6" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8, 0, -16)
script = ExtResource("1_7bb47")
metadata/_edit_group_ = true

[node name="N8" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.6, 0, -16)
script = ExtResource("1_7bb47")
metadata/_edit_group_ = true

[node name="N16" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.2, 0, -16)
script = ExtResource("1_7bb47")
metadata/_edit_group_ = true

[node name="N32" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 49.888, 0, -16)
script = ExtResource("1_7bb47")
metadata/_edit_group_ = true

[node name="N64" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 98.5, 0, -16)
script = ExtResource("1_7bb47")
metadata/_edit_group_ = true

[node name="HBoxContainer" type="VBoxContainer" parent="."]
anchors_preset = -1
anchor_right = 0.9
anchor_bottom = 1.0
offset_left = 200.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0
text = "Purpose of test:
Constant live updating of VoxelData should result in generating meshes as fast as possible
Test:
Update VoxelData once per frame with sphere whose size changes with time. Mesh should be always visible and refreshing as fast as possible. Validate with different size VoxelInstances to generate meshes that will be too slow to update live."
autowrap_mode = 3

[node name="HFlowContainer" type="HFlowContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="LabelMesh" type="Label" parent="HBoxContainer/HFlowContainer"]
layout_mode = 2
text = "Meshing mode:"

[node name="OptionButtonMesh" type="OptionButton" parent="HBoxContainer/HFlowContainer"]
unique_name_in_owner = true
layout_mode = 2
toggle_mode = false
flat = true

[node name="LabelThread" type="Label" parent="HBoxContainer/HFlowContainer"]
layout_mode = 2
text = "Threading mode:"

[node name="OptionButtonThread" type="OptionButton" parent="HBoxContainer/HFlowContainer"]
unique_name_in_owner = true
layout_mode = 2
toggle_mode = false
flat = true

[node name="PerformanceLabel" type="Label" parent="HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0
text = "calculating performance..."
autowrap_mode = 3

[node name="PerformanceTimer" type="Timer" parent="HBoxContainer/PerformanceLabel"]
autostart = true

[connection signal="item_selected" from="HBoxContainer/HFlowContainer/OptionButtonMesh" to="." method="_on_option_button_mesh_item_selected"]
[connection signal="item_selected" from="HBoxContainer/HFlowContainer/OptionButtonThread" to="." method="_on_option_button_thread_item_selected"]
[connection signal="timeout" from="HBoxContainer/PerformanceLabel/PerformanceTimer" to="." method="_on_performance_timer_timeout"]
